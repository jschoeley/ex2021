%%% Draft Style
%%% Jonas SchÃ¶ley
%%% 2022-05-25

%--- Init --------------------------------------------------------------

% latex-dependency
\NeedsTeXFormat{LaTeX2e}
% package metadata
\ProvidesPackage{draft}[Jonas' Draft Style]

%--- Warnings ----------------------------------------------------------

\usepackage{silence}
\WarningFilter{hyphenat}{***}
\WarningFilter{latexfont}{Font}
\WarningFilter{latexfont}{Some}

%--- Font/encoding -----------------------------------------------------

\usepackage[utf8]{inputenc}       % .tex-file text encoding
\usepackage[T1]{fontenc}          % vector fonts and special chars in output
\usepackage{newtxtext, newtxmath} % Times Roman font family
\let\Bbbk\relax % avoids clash between newtxmath and amssymb

%--- Maths -------------------------------------------------------------

\usepackage{amsmath}  % various maths features
\usepackage{amssymb}  % maths symbols
\usepackage{mathrsfs} % maths script fonts

%--- Misc --------------------------------------------------------------

\usepackage{etoolbox}  % allows to inject commands inside environments
\usepackage{float}     % control placement of floats
\usepackage{xcolor}    % for colored links

%--- Figures -----------------------------------------------------------

\usepackage{graphicx} % include external images
\floatplacement{figure}{H}

% generate all images so they have a width \cnstmaxfigwidth
% images get their normal width if they fit onto the page
% images are scaled down if they would overflow the margins
\makeatletter
  \def\cnstmaxfigwidth{
    \ifdim \Gin@nat@width>\linewidth
      \linewidth
    \else \Gin@nat@width
    \fi
  }
\makeatother
\let\Oldincludegraphics\includegraphics
\renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=\cnstmaxfigwidth]{#1}}

%--- Captions ----------------------------------------------------------

\usepackage{caption}
\DeclareCaptionLabelSeparator{capsep}{:\hspace{0.2cm}}
\captionsetup[figure]{
            labelsep        = capsep,
            name            = Figure,
            font            = {rm, normalsize},
            labelfont       = bf,
            justification   = justified,
            singlelinecheck = false,
            indention       = 0.5cm
}
\captionsetup[table]{
            labelsep        = capsep,
            name            = Table,
            font            = {rm, normalsize},
            labelfont       = bf,
            justification   = justified,
            singlelinecheck = false,
            indention       = 0.5cm
}

% captions above
\floatstyle{plaintop}
\restylefloat{table}
\restylefloat{figure}

%--- Localization ------------------------------------------------------

% babel
\usepackage[english]{babel} % document language/localization
\usepackage[htt]{hyphenat}  % hyphenation rules

%--- Bibliography ------------------------------------------------------

\usepackage{natbib}
\setcitestyle{super, comma, sort&compress}
\bibliographystyle{unsrtnat}
\newcommand{\doi}[1]{\href{http://www.dx.doi.org/#1}{doi:#1}}

%--- General layout ----------------------------------------------------

\usepackage[a4paper]{geometry}
\geometry{
  %paperheight = 24cm,
  %paperwidth  = 17cm,
  top         = 2.54cm,
  bottom      = 2.54cm,
  inner       = 2cm,
  outer       = 2.54cm,
  footskip    = 11mm,
  headheight  = 1cm,
  headsep     = 0.75cm,
  showframe   = false
}

% change spacing
\setlength{\parskip}{0.5ex}
\setlength{\parindent}{0cm}
\setlength{\bibsep}{.18cm}

% no page numbers
%\pagenumbering{gobble}

% avoid orphans and widows
\widowpenalty = 10000
\clubpenalty  = 10000

% don't break footnotes
\interfootnotelinepenalty = 10000

% don't hyphenate across pages
\brokenpenalty10000\relax

% increase fraction of page that can be used by floats
% before a pure float-page is created
\renewcommand{\floatpagefraction}{.8}

%--- Lists -------------------------------------------------------------

% tight lists
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

%--- Sections ----------------------------------------------------------

% style
\usepackage{titlesec}
\titleformat{\section}[hang]{\raggedright\normalfont\bfseries\large}{\thesection.}{1ex}{}
\titleformat{\subsection}[hang]{\raggedright\normalfont\bfseries}{\thesubsection}{1ex}{}
\titleformat{\subsubsection}[hang]{\raggedright\normalfont\bfseries}{\thesubsubsection}{1ex}{}

%--- Footnotes ---------------------------------------------------------

\usepackage[bottom]{footmisc}

% make linebreaks start under footnote label
\setlength{\footnotemargin}{0.3em}

\let\oldfootnote\footnote
\renewcommand\footnote[1]{%
\oldfootnote{\hspace{0.6mm}#1}}

%--- Tables ------------------------------------------------------------

\usepackage{array,tabularx,longtable,booktabs,multirow,adjustbox}
%\AtBeginEnvironment{tabular}{\small}
